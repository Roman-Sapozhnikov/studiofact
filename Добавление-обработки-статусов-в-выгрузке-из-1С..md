Добавление обработки статусов в выгрузке из 1С.

1. Необходимо наследовать класс CSaleOrderLoader.
2. Переопределить метод nodeHandler, скопировав в новый метод код из ядра.
3. Добавить код  для обработки статусов перед записью полей заказа в базу.

` if (count($arAditFields) > 0) {   \CSaleOrder::Update($orderId, $arAditFields); } `

Пример кода для обработки:




4. Вынести компонент sale.export.1c в свое пространство и заменить вызов класса CSaleOrderLoader на свой

`if(filesize($new_file_name)>0)`
		`{`
			`$position = false;`
			`$loader = new Fact\CSaleOrderLoader;`
			`$loader->arParams = $arParams;`

5. Так же в ланговых файла необходимо создать переменную с название реквизита в котором передается значение статуса, к примеру `$MESS['SFP_ORDER_STATUS_ID'] = "Статус заказа ИД";`

6. ??????
7. PROFIT